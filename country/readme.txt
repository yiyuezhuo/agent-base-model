模型目的:探索仅在心理原因下的地域分化，如国家形成。

模型由python实现，由python2.7版本解释器执行。需要pygame库绘图，如果不绘图可以不装。
程序包含三部分，本说明。newmodel.py文件与graph.py文件，示例图片。graph.py是我写的一个图论模块，不过对本模型过于一般化，效率很低，其寻路算法也不是用公认有效的两个算法实现的，而是一个玩具产物。
newmodel.py是主程序，其程序由文本构成，可以直接用文本编辑器打开。最上面是模块声明。从map_size_x=20 ..开始是一些写出来的参数。不过模型中的多数参数没有完全单独写出来。多硬编码在程序内部。

参数解释:
map_size_x map_size_y 地图大小
character_dimension 外特征的数量，当前如果要绘图只能用3
agent_number 主体数量
R_factor 学习速率
died_percent 自然死亡概率
evade_percent 回避比率，值越高越不卷入冲突
aggressive_percent 侵略比率，值越高越不卷入冲突
ada_factor 合理化速率
graphics 绘图开关
save 打开时会在当前目录每回合存储当前状态
load 打开时会在开始时载入之前存储的状态而不是重新开始。



运行原理:
采用多主体的模式。有一定数量主体在四边格阵(下面称为地图)上。不像糖域之类的模型，四边格子除了相互之前的连接关系本身没有任何属性，这也正是本模型的精妙之处。
主体本身具有一套随机属性决定的行为方式，同时具有一组不影响行为的外特征。主体还对整个地图的每个格子具有其外特征的投射。（意思是，主体认为地块也有与人一样的外特征，即将人具有的“特征”“投射”到了地块上。但地块本身没有任何影响其判定的东西。100个主体有100个对一个地块的看法）
主体这样进行行动：
冲突发现，若主体发现一个地块的主体与其所在地块的外特征相差很大。就判定其为一个冲突。主体会试图解决冲突。方式有:
1，合理化:自己造成的冲突，会通过改变自己对自己所处的格子的看法来减少冲突。
2.正视现实:格子上的主体什么属性，就将对其看法向其靠近，以减少冲突。
3.消除:若冲突的格子外特征与自己很近，就会主动过去去攻击引发冲突的主体，以减少冲突。
一次攻击引发一次战斗，对半概率双方死亡。当一方死亡时，回合结束时创建一个新主体与随机格子，其属性由最近的几个主体决定。（初始化时完全随机）。这样一直迭代下去。

输出:

每轮输出一次信息，包括控制台部分和绘图。

控制台:（具体定义可以看代码）
已迭代轮数
对分散度
外特征方差：这个与上面那个都是描述主体总体外特征的分散度的。
截断聚类系数1,2,3,4,5,6,8,10:此值越高，外特征汇聚的程序越高。
投射方差:这个是各主体对整个地图看法的分化程度
投射地图混乱度:这个值越低，地图越呈规则(块)状。

绘图:
打开绘图的话会把每回合一个特定主体的投射打印出来，每个图片格子对应一个地图格子的看法，颜色由三个外特征值标准化为RGB色输出。

输出分析:
一般初始有一段混乱时期，然后各值就会按以下规律变化，外特征方差降到一定程度后几乎不变。截断聚类系数会上升一些。投射方差会一直下降，投射地图混乱度会一直下降。
其解释是，在各种人群比例基本不变的情况下，人们聚到一起形成地域分化。其中不需要任何地域本身的原因，只需要人的心理原因就够了。
示例图片显示了初始一个主体的看法和运行了一段时间后主体的看法。可以看出明显的分化(由于标准化算法的问题，相同的颜色差异不一定对应相同的外特征差异度。这里只看是否类似的颜色聚到了一起)

关于作者:
卓越羿
四川师范大学 2014年数学院8班
网名yiyuezhuo
616271835@163.com
2321392867